<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goudy Old Style | Digital Archive Viewer</title>
    <link rel="stylesheet" href="./project-style.css" type="text/css" media="all">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <meta name="description" content="Goudy Old Style Type Specimen Display Book by Oscar Kim">
    <meta name="author" content="OscarKim">
    <link rel="shortcut icon" href="./Favicon_OscarKim.png" type="image/x-icon">
</head>
<body class="viewer-body">

    <nav class="viewer-sidebar">
        <div class="back-home">
            <a href="./index.html">‚Üê Back to Portfolio</a>
        </div>
        
        <ul class="filter-menu">
            <li class="active" data-filter="all">ALL</li>
            <li data-filter="g">G Book</li>
            <li data-filter="o">O Book</li>
            <li data-filter="u">U Book</li>
            <li data-filter="d">D Book</li>
            <li data-filter="y">Y Book</li>
        </ul>

        <div class="viewer-tools">
            <button class="tool-btn btn-zoom" title="ÎèãÎ≥¥Í∏∞">üîç</button>
        </div>
    </nav>

    <main class="viewer-stage">

        <div id="stack-view" class="stack-container">
            <div class="stack-item y-stack" style="--w: 201mm; z-index: 1;"><img src="./Work_01/Y Book/Y_Book.png"></div>
            <div class="stack-item d-stack" style="--w: 175mm; z-index: 2;"><img src="./Work_01/D Book/D_Book.png"></div>
            <div class="stack-item u-stack" style="--w: 148mm; z-index: 3;"><img src="./Work_01/U Book/U_Book.png"></div>
            <div class="stack-item o-stack" style="--w: 122mm; z-index: 4;"><img src="./Work_01/O Book/O_Book.png"></div>
            <div class="stack-item g-stack" style="--w: 93mm; z-index: 5;"><img src="./Work_01/G Book/G_Book.png"></div>
        </div>

        <div class="book-container o-book-view" style="display: none;">
            <div class="book-inner">
                <div class="page-leaf first" style="z-index: 320;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book.png" alt="Page 1"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book2.png" alt="Page 2"></div>
                </div>
                <div class="page-leaf" style="z-index: 319;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book3.png" alt="Page 3"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book4.png" alt="Page 4"></div>
                </div>
                <div class="page-leaf" style="z-index: 318;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book5.png" alt="Page 5"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book6.png" alt="Page 6"></div>
                </div>
                <div class="page-leaf" style="z-index: 317;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book7.png" alt="Page 7"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book8.png" alt="Page 8"></div>
                </div>
                <div class="page-leaf" style="z-index: 316;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book9.png" alt="Page 9"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book10.png" alt="Page 10"></div>
                </div>
                <div class="page-leaf" style="z-index: 315;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book11.png" alt="Page 11"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book12.png" alt="Page 12"></div>
                </div>
                <div class="page-leaf" style="z-index: 314;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book13.png" alt="Page 13"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book14.png" alt="Page 14"></div>
                </div>
                <div class="page-leaf" style="z-index: 313;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book15.png" alt="Page 15"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book16.png" alt="Page 16"></div>
                </div>
                <div class="page-leaf" style="z-index: 312;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book17.png" alt="Page 17"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book18.png" alt="Page 18"></div>
                </div>
                <div class="page-leaf" style="z-index: 311;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book19.png" alt="Page 19"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book20.png" alt="Page 20"></div>
                </div>
                <div class="page-leaf" style="z-index: 310;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book21.png" alt="Page 21"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book22.png" alt="Page 22"></div>
                </div>
                <div class="page-leaf" style="z-index: 309;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book23.png" alt="Page 23"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book24.png" alt="Page 24"></div>
                </div>
                <div class="page-leaf" style="z-index: 308;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book25.png" alt="Page 25"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book26.png" alt="Page 26"></div>
                </div>
                <div class="page-leaf" style="z-index: 307;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book27.png" alt="Page 27"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book28.png" alt="Page 28"></div>
                </div>
                <div class="page-leaf" style="z-index: 306;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book29.png" alt="Page 29"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book30.png" alt="Page 30"></div>
                </div>
                <div class="page-leaf" style="z-index: 305;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book31.png" alt="Page 31"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book32.png" alt="Page 32"></div>
                </div>
                <div class="page-leaf" style="z-index: 304;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book33.png" alt="Page 33"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book34.png" alt="Page 34"></div>
                </div>
                <div class="page-leaf" style="z-index: 303;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book35.png" alt="Page 35"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book36.png" alt="Page 36"></div>
                </div>
                <div class="page-leaf" style="z-index: 302;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book37.png" alt="Page 37"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book38.png" alt="Page 38"></div>
                </div>
                <div class="page-leaf last" style="z-index: 301;">
                    <div class="page-face front"><img src="./Work_01/O Book/O_Book39.png" alt="Page 39"></div>
                    <div class="page-face back"><img src="./Work_01/O Book/O_Book40.png" alt="Page 40"></div>
                </div>
            </div>
        </div>

        <div class="book-container u-book-view" style="display: none;">
            <div class="book-inner">
                <div class="page-leaf first" style="z-index: 212;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book.png" alt="Page 1"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book2.png" alt="Page 2"></div>
                </div>
                <div class="page-leaf" style="z-index: 211;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book3.png" alt="Page 3"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book4.png" alt="Page 4"></div>
                </div>
                <div class="page-leaf" style="z-index: 210;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book5.png" alt="Page 5"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book6.png" alt="Page 6"></div>
                </div>
                <div class="page-leaf" style="z-index: 209;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book7.png" alt="Page 7"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book8.png" alt="Page 8"></div>
                </div>
                <div class="page-leaf" style="z-index: 208;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book9.png" alt="Page 9"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book10.png" alt="Page 10"></div>
                </div>
                <div class="page-leaf" style="z-index: 207;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book11.png" alt="Page 11"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book12.png" alt="Page 12"></div>
                </div>
                <div class="page-leaf" style="z-index: 206;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book13.png" alt="Page 13"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book14.png" alt="Page 14"></div>
                </div>
                <div class="page-leaf" style="z-index: 205;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book15.png" alt="Page 15"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book16.png" alt="Page 16"></div>
                </div>
                <div class="page-leaf" style="z-index: 204;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book17.png" alt="Page 17"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book18.png" alt="Page 18"></div>
                </div>
                <div class="page-leaf" style="z-index: 203;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book19.png" alt="Page 19"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book20.png" alt="Page 20"></div>
                </div>
                <div class="page-leaf" style="z-index: 202;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book21.png" alt="Page 21"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book22.png" alt="Page 22"></div>
                </div>
                <div class="page-leaf last" style="z-index: 201;">
                    <div class="page-face front"><img src="./Work_01/U Book/U_Book23.png" alt="Page 23"></div>
                    <div class="page-face back"><img src="./Work_01/U Book/U_Book24.png" alt="Page 24"></div>
                </div>
            </div>
        </div>
        
        <div class="book-container d-book-view" style="display: none;">
            <div class="book-inner">
                <div class="page-leaf first" style="z-index: 116;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book.png" alt="Page 1"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book2.png" alt="Page 2"></div>
                </div>
                <div class="page-leaf" style="z-index: 115;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book3.png" alt="Page 3"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book4.png" alt="Page 4"></div>
                </div>
                <div class="page-leaf" style="z-index: 114;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book5.png" alt="Page 5"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book6.png" alt="Page 6"></div>
                </div>
                <div class="page-leaf" style="z-index: 113;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book7.png" alt="Page 7"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book8.png" alt="Page 8"></div>
                </div>
                <div class="page-leaf" style="z-index: 112;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book9.png" alt="Page 9"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book10.png" alt="Page 10"></div>
                </div>
                <div class="page-leaf" style="z-index: 111;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book11.png" alt="Page 11"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book12.png" alt="Page 12"></div>
                </div>
                <div class="page-leaf" style="z-index: 110;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book13.png" alt="Page 13"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book14.png" alt="Page 14"></div>
                </div>
                <div class="page-leaf" style="z-index: 109;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book15.png" alt="Page 15"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book16.png" alt="Page 16"></div>
                </div>
                <div class="page-leaf" style="z-index: 108;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book17.png" alt="Page 17"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book18.png" alt="Page 18"></div>
                </div>
                <div class="page-leaf" style="z-index: 107;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book19.png" alt="Page 19"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book20.png" alt="Page 20"></div>
                </div>
                <div class="page-leaf" style="z-index: 106;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book21.png" alt="Page 21"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book22.png" alt="Page 22"></div>
                </div>
                <div class="page-leaf" style="z-index: 105;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book23.png" alt="Page 23"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book24.png" alt="Page 24"></div>
                </div>
                <div class="page-leaf" style="z-index: 104;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book25.png" alt="Page 25"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book26.png" alt="Page 26"></div>
                </div>
                <div class="page-leaf" style="z-index: 103;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book27.png" alt="Page 27"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book28.png" alt="Page 28"></div>
                </div>
                <div class="page-leaf" style="z-index: 102;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book29.png" alt="Page 29"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book30.png" alt="Page 30"></div>
                </div>
                <div class="page-leaf last" style="z-index: 101;">
                    <div class="page-face front"><img src="./Work_01/D Book/D_Book31.png" alt="Page 31"></div>
                    <div class="page-face back"><img src="./Work_01/D Book/D_Book32.png" alt="Page 32"></div>
                </div>
            </div>
        </div>

        <div class="book-container y-book-view" style="display: none;">
            <div class="book-inner">
                <div class="page-leaf first" style="z-index: 24;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book.png" alt="Page 1"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book2.png" alt="Page 2"></div>
                </div>
                <div class="page-leaf" style="z-index: 23;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book3.png" alt="Page 3"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book4.png" alt="Page 4"></div>
                </div>
                <div class="page-leaf" style="z-index: 22;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book5.png" alt="Page 5"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book6.png" alt="Page 6"></div>
                </div>
                <div class="page-leaf" style="z-index: 21;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book7.png" alt="Page 7"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book8.png" alt="Page 8"></div>
                </div>
                <div class="page-leaf" style="z-index: 20;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book9.png" alt="Page 9"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book10.png" alt="Page 10"></div>
                </div>
                <div class="page-leaf" style="z-index: 19;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book11.png" alt="Page 11"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book12.png" alt="Page 12"></div>
                </div>
                <div class="page-leaf" style="z-index: 18;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book13.png" alt="Page 13"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book14.png" alt="Page 14"></div>
                </div>
                <div class="page-leaf" style="z-index: 17;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book15.png" alt="Page 15"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book16.png" alt="Page 16"></div>
                </div>
                <div class="page-leaf" style="z-index: 16;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book17.png" alt="Page 17"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book18.png" alt="Page 18"></div>
                </div>
                <div class="page-leaf" style="z-index: 15;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book19.png" alt="Page 19"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book20.png" alt="Page 20"></div>
                </div>
                <div class="page-leaf" style="z-index: 14;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book21.png" alt="Page 21"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book22.png" alt="Page 22"></div>
                </div>
                <div class="page-leaf" style="z-index: 13;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book23.png" alt="Page 23"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book24.png" alt="Page 24"></div>
                </div>
                <div class="page-leaf" style="z-index: 12;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book25.png" alt="Page 25"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book26.png" alt="Page 26"></div>
                </div>
                <div class="page-leaf" style="z-index: 11;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book27.png" alt="Page 27"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book28.png" alt="Page 28"></div>
                </div>
                <div class="page-leaf" style="z-index: 10;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book29.png" alt="Page 29"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book30.png" alt="Page 30"></div>
                </div>
                <div class="page-leaf" style="z-index: 9;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book31.png" alt="Page 31"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book32.png" alt="Page 32"></div>
                </div>
                <div class="page-leaf" style="z-index: 8;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book33.png" alt="Page 33"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book34.png" alt="Page 34"></div>
                </div>
                <div class="page-leaf" style="z-index: 7;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book35.png" alt="Page 35"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book36.png" alt="Page 36"></div>
                </div>
                <div class="page-leaf" style="z-index: 6;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book37.png" alt="Page 37"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book38.png" alt="Page 38"></div>
                </div>
                <div class="page-leaf" style="z-index: 5;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book39.png" alt="Page 39"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book40.png" alt="Page 40"></div>
                </div>
                <div class="page-leaf" style="z-index: 4;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book41.png" alt="Page 41"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book42.png" alt="Page 42"></div>
                </div>
                <div class="page-leaf" style="z-index: 3;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book43.png" alt="Page 43"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book44.png" alt="Page 44"></div>
                </div>
                <div class="page-leaf" style="z-index: 2;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book45.png" alt="Page 45"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book46.png" alt="Page 46"></div>
                </div>
                <div class="page-leaf last" style="z-index: 1;">
                    <div class="page-face front"><img src="./Work_01/Y Book/Y_Book47.png" alt="Page 47"></div>
                    <div class="page-face back"><img src="./Work_01/Y Book/Y_Book48.png" alt="Page 48"></div>
                </div>
            </div>
        </div>

        <div class="viewer-navigation" id="viewer-nav" style="display: none;">
            <button class="nav-arrow prev" id="prev-btn" title="Previous">
                <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <button class="nav-arrow next" id="next-btn" title="Next">
                <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </button>
        </div>

    </main>

    <div id="magnifier-box" class="magnifier"></div>

    <script>
        const menuItems = document.querySelectorAll('.filter-menu li');
        const stackView = document.getElementById('stack-view');
        const navControl = document.getElementById('viewer-nav');
        const allBookContainers = document.querySelectorAll('.book-container');

        let currentPage = 0;
        let currentLeaves = [];

        const dimensions = {
            'o': { w: '122mm', h: '210mm' },
            'u': { w: '148mm', h: '210mm' },
            'd': { w: '175mm', h: '210mm' },
            'y': { w: '201mm', h: '210mm' }
        };

        /**
         * [ÌïµÏã¨ ÏàòÏãù Î≥ÄÍ≤Ω] 
         * Îí∑Ïû•Ïù¥ ÏïûÏúºÎ°ú ÌäÄÏñ¥ÎÇòÏò§Îäî Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ 
         * ÏïÑÏßÅ ÎÑòÍ∏∞ÏßÄ ÏïäÏùÄ ÌéòÏù¥ÏßÄÎì§Ïóê ÎåÄÌï¥ Í∞ïÎ†•Ìïú ÏúÑÍ≥ÑÎ•º Î∂ÄÏó¨Ìï©ÎãàÎã§.
         */
        function updateStackZIndex() {
            currentLeaves.forEach((leaf, index) => {
                if (leaf.classList.contains('flipped')) {
                    // Ïù¥ÎØ∏ ÎÑòÏñ¥Í∞Ñ ÌéòÏù¥ÏßÄ: ÎÇòÏ§ëÏóê ÎÑòÍ∏¥ Ïû•Ïù¥ Îçî ÏúÑÎ°ú ÏåìÏûÑ
                    leaf.style.zIndex = index + 1;
                } else {
                    // ÏïÑÏßÅ Ïïà ÎÑòÏñ¥Í∞Ñ ÌéòÏù¥ÏßÄ: Ï≤´ Ïû•(index 0)Ïù¥ Í∞ÄÏû• ÎÜíÏïÑÏïº Ìï®
                    leaf.style.zIndex = currentLeaves.length - index;
                }
            });
        }

        function flipNext() {
            if (currentPage < currentLeaves.length) {
                currentLeaves[currentPage].classList.add('flipped');
                currentPage++;
                updateStackZIndex();
            }
        }

        function flipPrev() {
            if (currentPage > 0) {
                currentPage--;
                currentLeaves[currentPage].classList.remove('flipped');
                updateStackZIndex();
            }
        }

        menuItems.forEach(item => {
            item.addEventListener('click', () => {
                const filter = item.getAttribute('data-filter');
                menuItems.forEach(li => li.classList.remove('active'));
                item.classList.add('active');

                // Ï†ÑÏ≤¥ Ï¥àÍ∏∞Ìôî Î°úÏßÅ Í∞ïÌôî
                allBookContainers.forEach(container => {
                    container.style.display = 'none';
                    const leaves = container.querySelectorAll('.page-leaf');
                    leaves.forEach((leaf, idx) => {
                        leaf.classList.remove('flipped');
                        // Ï¥àÍ∏∞ Ï†ÅÏ∏µ ÏÉÅÌÉú Í∞ïÏ†ú Î∂ÄÏó¨
                        leaf.style.zIndex = (leaves.length + 100) - idx;
                    });
                });
                
                currentPage = 0;

                if (filter === 'all') {
                    stackView.style.display = 'block';
                    navControl.style.display = 'none';
                } else if (dimensions[filter]) {
                    stackView.style.display = 'none';
                    navControl.style.display = 'flex';

                    // Ï†ïÌôïÌïú ÌÅ¥ÎûòÏä§ ÌÉÄÍ≤üÌåÖ
                    const targetBook = document.querySelector(`.${filter}-book-view`);
                    if (targetBook) {
                        targetBook.style.display = 'block';
                        currentLeaves = Array.from(targetBook.querySelectorAll('.page-leaf'));
                        
                        document.documentElement.style.setProperty('--page-width', dimensions[filter].w);
                        document.documentElement.style.setProperty('--page-height', dimensions[filter].h);
                        
                        updateStackZIndex();
                    }
                }
            });
        });

        document.getElementById('next-btn').onclick = (e) => { e.preventDefault(); flipNext(); };
        document.getElementById('prev-btn').onclick = (e) => { e.preventDefault(); flipPrev(); };

        window.addEventListener('keydown', (e) => {
            const isBookMode = Array.from(allBookContainers).some(c => c.style.display === 'block');
            if (isBookMode) {
                if (e.key === 'ArrowRight') flipNext();
                if (e.key === 'ArrowLeft') flipPrev();
            }
        });
    </script>
</body>
</html>